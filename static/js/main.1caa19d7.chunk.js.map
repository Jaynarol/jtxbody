{"version":3,"sources":["libs.js","gapi.js","comps/Layout/styled.js","comps/PanelDate/index.js","comps/PanelWeight/styled.js","comps/ButtonAuth/index.js","comps/PanelWeight/index.js","comps/Layout/index.js","comps/App/index.js","index.js"],"names":["convertData","row","date","zipObject","split","map","toNumber","dmoment","moment","weight","exercise","measure","neck","chest","waist","hip","sleeve","notiError","title","content","Modal","error","getAccessToken","auth","JSON","parse","localStorage","getItem","get","output","resp","Error","isError","errMsg","message","data","findSameDate","find","_ref","isSame","gconf","gapi","tokenInfo","publicCsv","concat","getSheets","fetchTokenInfo","url","axios","then","catch","fetchData","isLogin","method","arguments","length","undefined","headers","Authorization","Content-Type","fetchWithAuth","_ref2","_ref3","_ref3$values","values","_ref3$values2","Object","toArray","_ref3$values2$","header","slice","_ref4","csv","_csv$split","_csv$split2","headerRaw","dataRaw","trim","raw","Content","Layout","Sider","Logo","styled","div","_templateObject","MainLayout","_templateObject2","MainSider","attrs","width","_templateObject3","MainContent","_templateObject4","Panel","_templateObject5","DividerTop","Divider","orientation","_templateObject6","dateCellRender","dateRender","react_default","a","createElement","es_row","type","gutter","justify","badge","status","color","PanelDate","selectDate","selectedDate","calendar","fullscreen","defaultValue","onSelect","RowPanel","Row","styled_templateObject","ColLabel","Col","span","styled_templateObject2","ColSlider","styled_templateObject3","RowSave","styled_templateObject4","ButtonAuth","refetchAuth","_useState","useState","_useState2","slicedToArray","loading","setLoading","loginSuccess","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setItem","stringify","pick","stop","_x","apply","this","Fragment","es_button","icon","google_login","clientId","buttonText","onRequest","onSuccess","onFailure","scope","cookiePolicy","render","renderProps","onClick","defaultProps","PanelWeight","props","form","setValue","label","bypass","value","getValue","useEffect","formValue","each","keys","slider","min","max","step","onChange","col","input_number","formatter","n","parser","replace","es_switch","checkedChildren","unCheckedChildren","checked","v","key","capitalize","comps_ButtonAuth","assign","layout","style","padding","background","minHeight","comps_PanelDate","format","comps_PanelWeight","App","state","spinning","_ref2$data","_ref2$data$expires_in","expires_in","sent","_this","setState","refetchData","_callee2","_ref4$data","_context2","componentDidMount","_callee3","_context3","spin","tip","comps_Layout","React","Component","ReactDOM","comps_App","document","getElementById"],"mappings":"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","file":"static/js/main.1caa19d7.chunk.js","sourcesContent":["import moment from 'moment'\r\nimport { find, get, toNumber, zipObject } from 'lodash'\r\nimport { Modal } from 'antd'\r\n\r\nexport const convertData = row => ({\r\n  date: zipObject(['year','month','day'], row.date.split('-').map(toNumber)),\r\n  dmoment: moment(row.date, \"YYYY-MM-DD\"),\r\n  weight: +row.weight,\r\n  exercise: +row.exercise,\r\n  measure: row.measure === \"TRUE\",\r\n  neck: +row.neck,\r\n  chest: +row.chest,\r\n  waist: +row.waist,\r\n  hip: +row.hip,\r\n  sleeve: +row.sleeve\r\n})\r\n\r\nexport const notiError = (title, content) => {\r\n  Modal.error({ title, content})\r\n}\r\n\r\nexport const getAccessToken = () => {\r\n  const auth = JSON.parse(localStorage.getItem('auth'))\r\n  return get(auth, 'tokenObj.access_token', '')\r\n}\r\n\r\nexport const output = resp => {\r\n  if (resp instanceof Error) {\r\n    return { isError: true, errMsg: resp.message }\r\n  }\r\n  return { data: resp, isError: false }\r\n}\r\n\r\nexport const findSameDate = (\r\n  (data, date) => find(data, ({ dmoment }) => dmoment.isSame(date, 'day'))\r\n)","import axios from 'axios'\r\nimport { zipObject } from 'lodash'\r\nimport { convertData, getAccessToken, output } from './libs'\r\n\r\nexport const gconf = {\r\n  clientId: '868583526084-jg9plqb23mjf393qdegg1aa0gq0tf8j4.apps.googleusercontent.com',\r\n  scope: 'https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/spreadsheets',\r\n  sheetID: '1btCR4YSDxAElxE_IdhhuEcwyr5vFDIcV48Il37NiQLQ'\r\n}\r\n\r\nconst gapi = {\r\n  tokenInfo: 'https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=',\r\n  publicCsv: `https://docs.google.com/spreadsheets/d/${gconf.sheetID}/pub?gid=0&single=true&output=csv`,\r\n  getSheets: `https://sheets.googleapis.com/v4/spreadsheets/${gconf.sheetID}/values/A1:I100000`\r\n}\r\n\r\nconst fetchWithAuth = (url, method = 'GET') => axios({\r\n  url,\r\n  method,\r\n  headers: {\r\n    'Authorization': `Bearer ${getAccessToken()}`,\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\nexport const fetchTokenInfo = () => {\r\n  const url = `${gapi.tokenInfo}${getAccessToken()}`\r\n  return axios.get(url)\r\n    .then(({ data }) => data)\r\n    .then(output).catch(output)\r\n}\r\n\r\nexport const fetchData = isLogin => (\r\n  isLogin\r\n    ? fetchWithAuth(gapi.getSheets)\r\n      .then(({ data }) => data)\r\n      .then(({ values: [header = [], ...rows] = [] }) =>(\r\n        rows\r\n          .map(row => zipObject(header, row))\r\n          .map(convertData)\r\n      ))\r\n      .then(output).catch(output)\r\n\r\n    : axios.get(gapi.publicCsv)\r\n      .then(({ data }) => data)\r\n      .then(csv => {\r\n        const [headerRaw, ...dataRaw] = csv.split('\\n')\r\n        const header = headerRaw.trim().split(',')\r\n        return dataRaw\r\n          .map(raw => zipObject(header, raw.trim().split(',')))\r\n          .map(convertData)\r\n      })\r\n      .then(output).catch(output)\r\n)","import styled from 'styled-components'\r\nimport { Divider, Layout } from 'antd'\r\n\r\nconst { Content, Sider } = Layout\r\n\r\nexport const Logo = styled.div`\r\n  height: 32px;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  margin: 16px;\r\n`\r\n\r\nexport const MainLayout = styled(Layout)`\r\n  min-height: 100vh;\r\n`\r\n\r\nexport const MainSider = styled(Sider).attrs(() => ({\r\n  width: 320\r\n}))`\r\n  min-height: 100vh;\r\n`\r\n\r\nexport const MainContent = styled(Content)`\r\n  margin: 16px;\r\n`\r\n\r\nexport const Panel = styled.div`\r\n  width: 288px;\r\n  margin: 16px;\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 4px;\r\n  background-color: #EEE;\r\n`\r\n\r\nexport const DividerTop = styled(Divider).attrs(() => ({\r\n  orientation: 'center'\r\n}))`\r\n  margin: 20px 0 10px!important;\r\n`\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Badge, Calendar, Row } from 'antd'\r\nimport { findSameDate } from '../../libs'\r\n\r\nconst dateCellRender = data => dateRender => {\r\n  const date = findSameDate(data, dateRender)\r\n  if(date){\r\n    return <Row type=\"flex\" gutter={0} justify=\"center\">\r\n      {\r\n        date.exercise > 0\r\n          ? <Badge status=\"processing\" />\r\n          : date.weight > 0 && <Badge color=\"cadetblue\" />\r\n      }\r\n      {\r\n        date.measure && <Badge status=\"success\" />\r\n      }\r\n    </Row>\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nconst PanelDate = ({ selectDate, selectedDate, data }) => {\r\n\r\n  return (\r\n    <Calendar\r\n      fullscreen={false}\r\n      defaultValue={selectedDate}\r\n      onSelect={selectDate}\r\n      dateCellRender={dateCellRender(data)}\r\n    />\r\n  )\r\n}\r\n\r\nPanelDate.propTypes = {\r\n  selectDate: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n  selectedDate: PropTypes.objectOf(PropTypes.any).isRequired\r\n}\r\n\r\nexport default PanelDate","import styled from 'styled-components'\r\nimport { Col, Row } from 'antd'\r\n\r\nexport const RowPanel = styled(Row).attrs(() => ({\r\n  type: 'flex',\r\n  justify: 'space-around'\r\n}))`\r\n  align-items: center;\r\n  height: 36px;\r\n`\r\n\r\nexport const ColLabel = styled(Col).attrs(() => ({\r\n  span: 8\r\n}))`\r\n  text-align: right;\r\n  padding-right: 10px!important;\r\n`\r\n\r\nexport const ColSlider = styled(Col).attrs(() => ({\r\n  span: 8\r\n}))`\r\n  padding-right: 10px!important;\r\n`\r\n\r\nexport const RowSave = styled(Row)`\r\n  margin: 20px;\r\n`","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { pick } from 'lodash'\r\nimport { GoogleLogin } from 'react-google-login'\r\nimport { Button } from 'antd'\r\nimport { gconf } from '../../gapi'\r\n\r\n\r\nconst ButtonAuth = ({ isLogin, refetchAuth }) => {\r\n\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const loginSuccess = async data => {\r\n    localStorage.setItem('auth', JSON.stringify(pick(data, ['profileObj', 'tokenObj'])))\r\n    await refetchAuth()\r\n    setLoading(false)\r\n  }\r\n\r\n  return <>\r\n    {\r\n      isLogin ?\r\n        <Button loading={loading} icon=\"save\">Save</Button>\r\n        : <GoogleLogin\r\n          clientId={gconf.clientId}\r\n          buttonText=\"Login\"\r\n          onRequest={() => setLoading(true)}\r\n          onSuccess={loginSuccess}\r\n          onFailure={() => setLoading(false)}\r\n          scope={gconf.scope}\r\n          cookiePolicy={'single_host_origin'}\r\n          render={renderProps => (\r\n            <Button onClick={renderProps.onClick} loading={loading} icon=\"google\">Login</Button>\r\n          )}\r\n        />\r\n    }\r\n  </>\r\n}\r\n\r\nButtonAuth.propTypes = {\r\n  isLogin: PropTypes.bool,\r\n  refetchAuth: PropTypes.func.isRequired\r\n}\r\n\r\nButtonAuth.defaultProps = {\r\n  isLogin: false\r\n}\r\n\r\nexport default ButtonAuth\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { each, capitalize, keys } from 'lodash'\r\nimport { ColLabel, ColSlider, RowPanel, RowSave } from './styled'\r\nimport { Col, InputNumber, Slider, Switch } from 'antd'\r\nimport ButtonAuth from '../ButtonAuth'\r\nimport { findSameDate } from '../../libs'\r\n\r\nconst PanelWeight = props => {\r\n  const { isLogin, selectedDate, data } = props\r\n  const form = {\r\n    weight: useState(0),\r\n    exercise: useState(0),\r\n    measure: useState(false),\r\n    neck: useState(0),\r\n    chest: useState(0),\r\n    waist: useState(0),\r\n    hip: useState(0),\r\n    sleeve: useState(0)\r\n  }\r\n  const setValue = (label, bypass = false) => value => (isLogin || bypass) && form[label][1](value)\r\n  const getValue = label => form[label][0]\r\n\r\n  useEffect(() => {\r\n    const formValue = findSameDate(data, selectedDate)\r\n    each(keys(form), label => setValue(label, true)(label === 'measure' ? false : 0))\r\n    if(formValue){\r\n      each(keys(form), label => setValue(label, true)(formValue[label]))\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedDate, data])\r\n\r\n  return (\r\n    <>\r\n      <RowPanel>\r\n        <ColLabel>Weight:</ColLabel>\r\n        <ColSlider>\r\n          <Slider min={0} max={120} step={0.1} onChange={setValue('weight')} value={getValue('weight')} />\r\n        </ColSlider>\r\n        <Col span={8}>\r\n          <InputNumber\r\n            onChange={setValue('weight')}\r\n            formatter={n => `${n} kg`}\r\n            parser={n => n.replace(/[^0-9.]/g, '')}\r\n            min={0} max={120} step={0.1} value={getValue('weight')}\r\n          />\r\n        </Col>\r\n      </RowPanel>\r\n\r\n      <RowPanel>\r\n        <ColLabel>Exercise:</ColLabel>\r\n        <ColSlider>\r\n          <Slider min={0} max={120} step={5} onChange={setValue('exercise')} value={getValue('exercise')}  />\r\n        </ColSlider>\r\n        <Col span={8}>\r\n          <InputNumber\r\n            onChange={setValue('exercise')}\r\n            formatter={n => `${n} mins`}\r\n            parser={n => n.replace(/[^0-9.]/g, '')}\r\n            min={0} max={120} step={5} value={getValue('exercise')}\r\n          />\r\n        </Col>\r\n      </RowPanel>\r\n\r\n      <RowPanel>\r\n        <ColLabel>Measure:</ColLabel>\r\n        <Col span={16}>\r\n          <Switch\r\n            checkedChildren=\"Yes\"\r\n            unCheckedChildren=\"No\"\r\n            checked={getValue('measure')}\r\n            onChange={setValue('measure')}\r\n          />\r\n        </Col>\r\n      </RowPanel>\r\n\r\n      {\r\n        getValue('measure') &&\r\n        ['neck', 'chest', 'waist', 'hip', 'sleeve'].map(v => (\r\n          <RowPanel key={v}>\r\n            <ColLabel>{capitalize(v)}:</ColLabel>\r\n            <ColSlider>\r\n              <Slider min={0} max={60} step={0.1} onChange={setValue(v)} value={getValue(v)}  />\r\n            </ColSlider>\r\n            <Col span={8}>\r\n              <InputNumber\r\n                onChange={setValue(v)}\r\n                formatter={n => `${n}\"`}\r\n                parser={n => n.replace(/[^0-9.]/g, '')}\r\n                min={0} max={60} step={0.1} value={getValue(v)}\r\n              />\r\n            </Col>\r\n          </RowPanel>\r\n        ))\r\n      }\r\n\r\n      <RowSave>\r\n        <ColLabel />\r\n        <Col span={16}>\r\n          <ButtonAuth isLogin={isLogin} {...props} />\r\n        </Col>\r\n      </RowSave>\r\n    </>\r\n  )\r\n}\r\n\r\nPanelWeight.propTypes = {\r\n  isLogin: PropTypes.bool,\r\n  selectedDate: PropTypes.objectOf(PropTypes.any).isRequired,\r\n  data: PropTypes.arrayOf(PropTypes.any).isRequired\r\n}\r\n\r\nPanelWeight.defaultProps = {\r\n  isLogin: false\r\n}\r\n\r\nexport default PanelWeight","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Layout as AntLayout } from 'antd'\r\nimport { Logo, MainContent, MainLayout, Panel, DividerTop, MainSider } from './styled'\r\nimport PanelDate from '../PanelDate'\r\nimport PanelWeight from '../PanelWeight'\r\n\r\nconst Layout = props => {\r\n  const { selectedDate } = props\r\n\r\n  return (\r\n    <MainLayout>\r\n      <AntLayout>\r\n        <MainContent>\r\n          <div style={{ padding: 24, background: '#fff', minHeight: 360 }}>Should be a Dashboard</div>\r\n        </MainContent>\r\n      </AntLayout>\r\n      <MainSider>\r\n        <Logo />\r\n        <Panel>\r\n          <PanelDate {...props} />\r\n          <DividerTop>{selectedDate.format('DD MMMM YYYY')}</DividerTop>\r\n          <PanelWeight {...props} />\r\n        </Panel>\r\n      </MainSider>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nLayout.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.any),\r\n  selectedDate: PropTypes.objectOf(PropTypes.any).isRequired\r\n}\r\n\r\nLayout.defaultProps = {\r\n  data: []\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport moment from 'moment'\r\nimport { Spin } from 'antd'\r\nimport { fetchData, fetchTokenInfo } from '../../gapi'\r\nimport { notiError } from '../../libs'\r\nimport Layout from '../Layout'\r\nimport './style.css'\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    spinning: true,\r\n    isLogin: false,\r\n    selectedDate: moment(),\r\n    data: []\r\n  }\r\n\r\n  refetchAuth = async () => {\r\n    const { data: { expires_in = 0 } = {} }  = await fetchTokenInfo()\r\n    this.setState({ isLogin: expires_in > 0 })\r\n  }\r\n\r\n  refetchData = async () => {\r\n    const { data = [], isError, errMsg } = await fetchData(this.state.isLogin)\r\n    if(isError){\r\n      notiError('Fetch Data Error', errMsg)\r\n    }\r\n    this.setState({ data })\r\n  }\r\n\r\n  selectDate = date => {\r\n    this.setState({ selectedDate: date })\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    await this.refetchAuth()\r\n    await this.refetchData()\r\n    this.setState({ spinning: false })\r\n  }\r\n\r\n  render() {\r\n    return <Spin tip=\"Fetching Data...\" spinning={this.state.spinning}>\r\n      <Layout\r\n        refetchAuth={this.refetchAuth}\r\n        refetchData={this.refetchData}\r\n        selectDate={this.selectDate}\r\n        {...this.state} />\r\n    </Spin>\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './comps/App/'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}