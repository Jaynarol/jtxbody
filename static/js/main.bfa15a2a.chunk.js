(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,n){e.exports=n(261)},252:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),i=n.n(c),u=n(25),o=n.n(u),s=n(47),l=n(134),f=n(135),h=n(148),p=n(136),m=n(150),d=n(16),g=n.n(d),b=n(265),v=n(149),j=n(80),O=n(100),E=n(82),x=n.n(E),w=n(15),k=n.n(w),S=n(268),y=function(e){return Object(j.a)({},e,{date:Object(w.zipObject)(["year","month","day"],e.date.split("-").map(w.toNumber)),dmoment:g()(e.date,"YYYY-MM-DD"),weight:+(e.weight||0),exercise:+(e.exercise||0),measure:"TRUE"===e.measure,neck:+(e.neck||0),chest:+(e.chest||0),waist:+(e.waist||0),hip:+(e.hip||0),sleeve:+(e.sleeve||0)})},D=function(){var e=JSON.parse(localStorage.getItem("auth"));return Object(w.get)(e,"tokenObj.access_token","")},C=function(e){return function(t){return t instanceof Error?(e||S.a.error({title:"Connection Error",content:t.message}),{data:void 0,isError:!0,errMsg:t.message}):{data:t,isError:!1,errMsg:void 0}}},I=C(!0),Y=C(!1),L=function(e,t){return Object(w.find)(e,function(e){return e.dmoment.isSame(t,"day")})},M="868583526084-jg9plqb23mjf393qdegg1aa0gq0tf8j4.apps.googleusercontent.com",A="https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/spreadsheets",T="1btCR4YSDxAElxE_IdhhuEcwyr5vFDIcV48Il37NiQLQ",N="Jaynarol",P={tokenInfo:"https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=",publicCsv:"https://docs.google.com/spreadsheets/d/".concat(T,"/pub?gid=0&single=true&output=csv"),getSheets:"https://sheets.googleapis.com/v4/spreadsheets/".concat(T,"/values/A1:I100000"),updateSheets:"https://sheets.googleapis.com/v4/spreadsheets/".concat(T,"/values:batchUpdate")},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x()({url:e,method:t,data:n,headers:{Authorization:"Bearer ".concat(D()),"Content-Type":"application/json"}})},_=function(){var e="".concat(P.tokenInfo).concat(D());return x.a.get(e).then(function(e){return e.data}).then(Y).catch(I)},z=function(e){return e?R(P.getSheets).then(function(e){return e.data}).then(function(e){var t=e.values;t=void 0===t?[]:t;var n=Object(O.a)(t),a=n[0],r=void 0===a?[]:a;return n.slice(1).map(function(e,t){return Object(j.a)({rowId:t+2},Object(w.zipObject)(r,e))}).map(y)}).then(Y).catch(Y):x.a.get(P.publicCsv).then(function(e){return e.data}).then(function(e){var t=e.split("\n"),n=Object(O.a)(t),a=n[0],r=n.slice(1),c=a.trim().split(",");return r.map(function(e){return Object(w.zipObject)(c,e.trim().split(","))}).map(y)}).then(Y).catch(Y)},J=function(e,t,n){var a=(L(e,n)||{rowId:e.length+2}).rowId;return R(P.updateSheets,"POST",{valueInputOption:"USER_ENTERED",data:[{range:"A".concat(a),majorDimension:"ROWS",values:[[n.format("YYYY-MM-DD")].concat(Object(v.a)(Object(w.values)(Object(w.pick)(t,["weight","exercise","measure","neck","chest","waist","hip","sleeve"]))))]}]}).then(function(e){return e.data}).then(Y).catch(Y)},q=n(270),B=n(26),F=n(27),U=n(263);function W(){var e=Object(B.a)(["\n  margin: 20px 0 10px!important;\n"]);return W=function(){return e},e}function G(){var e=Object(B.a)(["\n  width: 288px;\n  margin: 16px;\n  border: 1px solid #d9d9d9;\n  border-radius: 4px;\n  background-color: #EEE;\n"]);return G=function(){return e},e}function Q(){var e=Object(B.a)(["\n  margin: 16px;\n"]);return Q=function(){return e},e}function V(){var e=Object(B.a)(["\n  min-height: 100vh;\n"]);return V=function(){return e},e}function H(){var e=Object(B.a)(["\n  min-height: 100vh;\n"]);return H=function(){return e},e}function K(){var e=Object(B.a)(["\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n  font-size: 1.5em;\n  color: lightgray;\n  text-align: center;\n"]);return K=function(){return e},e}var X=q.a.Content,Z=q.a.Sider,$=F.a.div(K()),ee=Object(F.a)(q.a)(H()),te=Object(F.a)(Z).attrs(function(){return{width:320}})(V()),ne=Object(F.a)(X)(Q()),ae=F.a.div(G()),re=Object(F.a)(U.a).attrs(function(){return{orientation:"center"}})(W()),ce=n(272),ie=n(273),ue=n(266),oe=function(e){return function(t){var n=L(e,t);return n?r.a.createElement(ce.a,{type:"flex",gutter:0,justify:"center"},n.exercise>0?r.a.createElement(ie.a,{status:"processing"}):n.weight>0&&r.a.createElement(ie.a,{color:"cadetblue"}),n.measure&&r.a.createElement(ie.a,{status:"success"})):null}},se=function(e){var t=e.selectDate,n=e.selectedDate,a=e.data;return r.a.createElement(ue.a,{fullscreen:!1,defaultValue:n,onSelect:t,dateCellRender:oe(a)})},le=n(274);function fe(){var e=Object(B.a)(["\n  margin: 20px;\n"]);return fe=function(){return e},e}function he(){var e=Object(B.a)(["\n  padding-right: 10px!important;\n"]);return he=function(){return e},e}function pe(){var e=Object(B.a)(["\n  text-align: right;\n  padding-right: 10px!important;\n"]);return pe=function(){return e},e}function me(){var e=Object(B.a)(["\n  align-items: center;\n  height: 36px;\n"]);return me=function(){return e},e}var de=Object(F.a)(ce.a).attrs(function(){return{type:"flex",justify:"space-around"}})(me()),ge=Object(F.a)(le.a).attrs(function(){return{span:8}})(pe()),be=Object(F.a)(le.a).attrs(function(){return{span:8}})(he()),ve=Object(F.a)(ce.a)(fe()),je=n(267),Oe=n(269),Ee=n(264),xe=n(153),we=n(144),ke=n(271),Se=n(60),ye=function(e){var t=e.refetchAuth,n=e.refetchData,c=e.form,i=e.data,u=e.selectedDate,l=e.isLogin,f=Object(a.useState)(!1),h=Object(xe.a)(f,2),p=h[0],m=h[1],d=function(){var e=Object(s.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(w.get)(n,"profileObj.givenName")!==N){e.next=8;break}return localStorage.setItem("auth",JSON.stringify(Object(w.pick)(n,["profileObj","tokenObj"]))),e.next=5,t();case 5:ke.a.success("Welcome back ".concat(N,".")),e.next=9;break;case 8:S.a.error({title:"Permission Denied",content:"I'm glad to hear that you are interested, But This area for ".concat(N," only.")});case 9:m(!1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,J(i,c,u);case 3:return e.next=5,n();case 5:ke.a.success("data successfully saved."),m(!1);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return l?r.a.createElement(Se.a,{loading:p,onClick:g,icon:"save"},"Save"):r.a.createElement(we.GoogleLogin,{clientId:M,buttonText:"Login",onRequest:function(){return m(!0)},onSuccess:d,onFailure:function(){return m(!1)},scope:A,cookiePolicy:"single_host_origin",render:function(e){return r.a.createElement(Se.a,{onClick:e.onClick,loading:p,icon:"google"},"Login")}})};ye.defaultProps={isLogin:!1};var De=ye,Ce=function(e){var t=e.isLogin,n=e.selectedDate,c=e.data,i={weight:Object(a.useState)(0),exercise:Object(a.useState)(0),measure:Object(a.useState)(!1),neck:Object(a.useState)(0),chest:Object(a.useState)(0),waist:Object(a.useState)(0),hip:Object(a.useState)(0),sleeve:Object(a.useState)(0)},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return(t||n)&&i[e][1](a)}},o=function(e){return i[e][0]};return Object(a.useEffect)(function(){var e=L(c,n);Object(w.each)(Object(w.keys)(i),function(e){return u(e,!0)("measure"!==e&&0)}),e&&Object(w.each)(Object(w.keys)(i),function(t){return u(t,!0)(e[t])})},[n,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null,r.a.createElement(ge,null,"Weight:"),r.a.createElement(be,null,r.a.createElement(je.a,{min:0,max:120,step:.1,onChange:u("weight"),value:o("weight")})),r.a.createElement(le.a,{span:8},r.a.createElement(Oe.a,{onChange:u("weight"),formatter:function(e){return"".concat(e," kg")},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:120,step:.1,value:o("weight")}))),r.a.createElement(de,null,r.a.createElement(ge,null,"Exercise:"),r.a.createElement(be,null,r.a.createElement(je.a,{min:0,max:120,step:5,onChange:u("exercise"),value:o("exercise")})),r.a.createElement(le.a,{span:8},r.a.createElement(Oe.a,{onChange:u("exercise"),formatter:function(e){return"".concat(e," mins")},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:120,step:5,value:o("exercise")}))),r.a.createElement(de,null,r.a.createElement(ge,null,"Measure:"),r.a.createElement(le.a,{span:16},r.a.createElement(Ee.a,{checkedChildren:"Yes",unCheckedChildren:"No",checked:o("measure"),onChange:u("measure")}))),o("measure")&&["neck","chest","waist","hip","sleeve"].map(function(e){return r.a.createElement(de,{key:e},r.a.createElement(ge,null,Object(w.capitalize)(e),":"),r.a.createElement(be,null,r.a.createElement(je.a,{min:0,max:60,step:.1,onChange:u(e),value:o(e)})),r.a.createElement(le.a,{span:8},r.a.createElement(Oe.a,{onChange:u(e),formatter:function(e){return"".concat(e,'"')},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:60,step:.1,value:o(e)})))}),r.a.createElement(ve,null,r.a.createElement(ge,null),r.a.createElement(le.a,{span:16},r.a.createElement(De,Object.assign({form:k()(i).keys().chain().map(function(e){return[e,o(e)]}).fromPairs().value(),isLogin:t},e)))))};Ce.defaultProps={isLogin:!1};var Ie=Ce,Ye=function(e){var t=e.selectedDate;return r.a.createElement(ee,null,r.a.createElement(q.a,null,r.a.createElement(ne,null,r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"Should be a Dashboard"))),r.a.createElement(te,null,r.a.createElement($,null,"JTxBody"),r.a.createElement(ae,null,r.a.createElement(se,e),r.a.createElement(re,null,t.format("DD MMMM YYYY")),r.a.createElement(Ie,e))))};Ye.defaultProps={data:[]};var Le=Ye,Me=(n(252),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={spinning:!0,isLogin:!1,selectedDate:g()(),data:[]},n.refetchAuth=Object(s.a)(o.a.mark(function e(){var t,a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,a=t.data,r=(a=void 0===a?{}:a).expires_in,c=void 0===r?0:r,n.setState({isLogin:c>0});case 7:case"end":return e.stop()}},e)})),n.refetchData=Object(s.a)(o.a.mark(function e(){var t,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(n.state.isLogin);case 2:t=e.sent,a=t.data,r=void 0===a?[]:a,n.setState({data:r});case 6:case"end":return e.stop()}},e)})),n.selectDate=function(e){n.setState({selectedDate:e})},n.componentDidMount=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.refetchAuth();case 2:return e.next=4,n.refetchData();case 4:n.setState({spinning:!1});case 5:case"end":return e.stop()}},e)})),n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{tip:"Fetching Data...",spinning:this.state.spinning},r.a.createElement(Le,Object.assign({refetchAuth:this.refetchAuth,refetchData:this.refetchData,selectDate:this.selectDate},this.state)))}}]),t}(r.a.Component));i.a.render(r.a.createElement(Me,null),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.bfa15a2a.chunk.js.map