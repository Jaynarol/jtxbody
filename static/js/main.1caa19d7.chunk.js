(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,n){e.exports=n(258)},249:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),i=n.n(c),u=n(32),o=n.n(u),s=n(52),l=n(131),m=n(132),f=n(146),p=n(133),h=n(147),g=n(15),d=n.n(g),b=n(262),v=n(103),j=n(79),E=n.n(j),O=n(17),x=n(265),w=function(e){return{date:Object(O.zipObject)(["year","month","day"],e.date.split("-").map(O.toNumber)),dmoment:d()(e.date,"YYYY-MM-DD"),weight:+e.weight,exercise:+e.exercise,measure:"TRUE"===e.measure,neck:+e.neck,chest:+e.chest,waist:+e.waist,hip:+e.hip,sleeve:+e.sleeve}},k=function(e,t){x.a.error({title:e,content:t})},S=function(){var e=JSON.parse(localStorage.getItem("auth"));return Object(O.get)(e,"tokenObj.access_token","")},D=function(e){return e instanceof Error?{isError:!0,errMsg:e.message}:{data:e,isError:!1}},y=function(e,t){return Object(O.find)(e,function(e){return e.dmoment.isSame(t,"day")})},C="868583526084-jg9plqb23mjf393qdegg1aa0gq0tf8j4.apps.googleusercontent.com",L="https://www.googleapis.com/auth/spreadsheets.readonly https://www.googleapis.com/auth/spreadsheets",I="1btCR4YSDxAElxE_IdhhuEcwyr5vFDIcV48Il37NiQLQ",M={tokenInfo:"https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=",publicCsv:"https://docs.google.com/spreadsheets/d/".concat(I,"/pub?gid=0&single=true&output=csv"),getSheets:"https://sheets.googleapis.com/v4/spreadsheets/".concat(I,"/values/A1:I100000")},Y=function(){var e="".concat(M.tokenInfo).concat(S());return E.a.get(e).then(function(e){return e.data}).then(D).catch(D)},A=function(e){return e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";return E()({url:e,method:t,headers:{Authorization:"Bearer ".concat(S()),"Content-Type":"application/json"}})}(M.getSheets).then(function(e){return e.data}).then(function(e){var t=e.values;t=void 0===t?[]:t;var n=Object(v.a)(t),a=n[0],r=void 0===a?[]:a;return n.slice(1).map(function(e){return Object(O.zipObject)(r,e)}).map(w)}).then(D).catch(D):E.a.get(M.publicCsv).then(function(e){return e.data}).then(function(e){var t=e.split("\n"),n=Object(v.a)(t),a=n[0],r=n.slice(1),c=a.trim().split(",");return r.map(function(e){return Object(O.zipObject)(c,e.trim().split(","))}).map(w)}).then(D).catch(D)},F=n(267),_=n(25),z=n(26),N=n(260);function q(){var e=Object(_.a)(["\n  margin: 20px 0 10px!important;\n"]);return q=function(){return e},e}function J(){var e=Object(_.a)(["\n  width: 288px;\n  margin: 16px;\n  border: 1px solid #d9d9d9;\n  border-radius: 4px;\n  background-color: #EEE;\n"]);return J=function(){return e},e}function P(){var e=Object(_.a)(["\n  margin: 16px;\n"]);return P=function(){return e},e}function R(){var e=Object(_.a)(["\n  min-height: 100vh;\n"]);return R=function(){return e},e}function T(){var e=Object(_.a)(["\n  min-height: 100vh;\n"]);return T=function(){return e},e}function B(){var e=Object(_.a)(["\n  height: 32px;\n  background: rgba(255, 255, 255, 0.2);\n  margin: 16px;\n"]);return B=function(){return e},e}var G=F.a.Content,Q=F.a.Sider,V=z.a.div(B()),H=Object(z.a)(F.a)(T()),U=Object(z.a)(Q).attrs(function(){return{width:320}})(R()),W=Object(z.a)(G)(P()),K=z.a.div(J()),X=Object(z.a)(N.a).attrs(function(){return{orientation:"center"}})(q()),Z=n(268),$=n(269),ee=n(263),te=function(e){return function(t){var n=y(e,t);return n?r.a.createElement(Z.a,{type:"flex",gutter:0,justify:"center"},n.exercise>0?r.a.createElement($.a,{status:"processing"}):n.weight>0&&r.a.createElement($.a,{color:"cadetblue"}),n.measure&&r.a.createElement($.a,{status:"success"})):null}},ne=function(e){var t=e.selectDate,n=e.selectedDate,a=e.data;return r.a.createElement(ee.a,{fullscreen:!1,defaultValue:n,onSelect:t,dateCellRender:te(a)})},ae=n(270);function re(){var e=Object(_.a)(["\n  margin: 20px;\n"]);return re=function(){return e},e}function ce(){var e=Object(_.a)(["\n  padding-right: 10px!important;\n"]);return ce=function(){return e},e}function ie(){var e=Object(_.a)(["\n  text-align: right;\n  padding-right: 10px!important;\n"]);return ie=function(){return e},e}function ue(){var e=Object(_.a)(["\n  align-items: center;\n  height: 36px;\n"]);return ue=function(){return e},e}var oe=Object(z.a)(Z.a).attrs(function(){return{type:"flex",justify:"space-around"}})(ue()),se=Object(z.a)(ae.a).attrs(function(){return{span:8}})(ie()),le=Object(z.a)(ae.a).attrs(function(){return{span:8}})(ce()),me=Object(z.a)(Z.a)(re()),fe=n(264),pe=n(266),he=n(261),ge=n(150),de=n(142),be=n(60),ve=function(e){var t=e.isLogin,n=e.refetchAuth,c=Object(a.useState)(!1),i=Object(ge.a)(c,2),u=i[0],l=i[1],m=function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("auth",JSON.stringify(Object(O.pick)(t,["profileObj","tokenObj"]))),e.next=3,n();case 3:l(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(be.a,{loading:u,icon:"save"},"Save"):r.a.createElement(de.GoogleLogin,{clientId:C,buttonText:"Login",onRequest:function(){return l(!0)},onSuccess:m,onFailure:function(){return l(!1)},scope:L,cookiePolicy:"single_host_origin",render:function(e){return r.a.createElement(be.a,{onClick:e.onClick,loading:u,icon:"google"},"Login")}}))};ve.defaultProps={isLogin:!1};var je=ve,Ee=function(e){var t=e.isLogin,n=e.selectedDate,c=e.data,i={weight:Object(a.useState)(0),exercise:Object(a.useState)(0),measure:Object(a.useState)(!1),neck:Object(a.useState)(0),chest:Object(a.useState)(0),waist:Object(a.useState)(0),hip:Object(a.useState)(0),sleeve:Object(a.useState)(0)},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return(t||n)&&i[e][1](a)}},o=function(e){return i[e][0]};return Object(a.useEffect)(function(){var e=y(c,n);Object(O.each)(Object(O.keys)(i),function(e){return u(e,!0)("measure"!==e&&0)}),e&&Object(O.each)(Object(O.keys)(i),function(t){return u(t,!0)(e[t])})},[n,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,r.a.createElement(se,null,"Weight:"),r.a.createElement(le,null,r.a.createElement(fe.a,{min:0,max:120,step:.1,onChange:u("weight"),value:o("weight")})),r.a.createElement(ae.a,{span:8},r.a.createElement(pe.a,{onChange:u("weight"),formatter:function(e){return"".concat(e," kg")},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:120,step:.1,value:o("weight")}))),r.a.createElement(oe,null,r.a.createElement(se,null,"Exercise:"),r.a.createElement(le,null,r.a.createElement(fe.a,{min:0,max:120,step:5,onChange:u("exercise"),value:o("exercise")})),r.a.createElement(ae.a,{span:8},r.a.createElement(pe.a,{onChange:u("exercise"),formatter:function(e){return"".concat(e," mins")},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:120,step:5,value:o("exercise")}))),r.a.createElement(oe,null,r.a.createElement(se,null,"Measure:"),r.a.createElement(ae.a,{span:16},r.a.createElement(he.a,{checkedChildren:"Yes",unCheckedChildren:"No",checked:o("measure"),onChange:u("measure")}))),o("measure")&&["neck","chest","waist","hip","sleeve"].map(function(e){return r.a.createElement(oe,{key:e},r.a.createElement(se,null,Object(O.capitalize)(e),":"),r.a.createElement(le,null,r.a.createElement(fe.a,{min:0,max:60,step:.1,onChange:u(e),value:o(e)})),r.a.createElement(ae.a,{span:8},r.a.createElement(pe.a,{onChange:u(e),formatter:function(e){return"".concat(e,'"')},parser:function(e){return e.replace(/[^0-9.]/g,"")},min:0,max:60,step:.1,value:o(e)})))}),r.a.createElement(me,null,r.a.createElement(se,null),r.a.createElement(ae.a,{span:16},r.a.createElement(je,Object.assign({isLogin:t},e)))))};Ee.defaultProps={isLogin:!1};var Oe=Ee,xe=function(e){var t=e.selectedDate;return r.a.createElement(H,null,r.a.createElement(F.a,null,r.a.createElement(W,null,r.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},"Should be a Dashboard"))),r.a.createElement(U,null,r.a.createElement(V,null),r.a.createElement(K,null,r.a.createElement(ne,e),r.a.createElement(X,null,t.format("DD MMMM YYYY")),r.a.createElement(Oe,e))))};xe.defaultProps={data:[]};var we=xe,ke=(n(249),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={spinning:!0,isLogin:!1,selectedDate:d()(),data:[]},n.refetchAuth=Object(s.a)(o.a.mark(function e(){var t,a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:t=e.sent,a=t.data,r=(a=void 0===a?{}:a).expires_in,c=void 0===r?0:r,n.setState({isLogin:c>0});case 7:case"end":return e.stop()}},e)})),n.refetchData=Object(s.a)(o.a.mark(function e(){var t,a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n.state.isLogin);case 2:t=e.sent,a=t.data,r=void 0===a?[]:a,c=t.isError,i=t.errMsg,c&&k("Fetch Data Error",i),n.setState({data:r});case 9:case"end":return e.stop()}},e)})),n.selectDate=function(e){n.setState({selectedDate:e})},n.componentDidMount=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.refetchAuth();case 2:return e.next=4,n.refetchData();case 4:n.setState({spinning:!1});case 5:case"end":return e.stop()}},e)})),n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{tip:"Fetching Data...",spinning:this.state.spinning},r.a.createElement(we,Object.assign({refetchAuth:this.refetchAuth,refetchData:this.refetchData,selectDate:this.selectDate},this.state)))}}]),t}(r.a.Component));i.a.render(r.a.createElement(ke,null),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.1caa19d7.chunk.js.map